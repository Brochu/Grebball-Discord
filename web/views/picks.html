<!doctype html>
<html lang="en" data-bs-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/themes/light.css" />
    <link rel="icon" type="image/x-icon" href="/favicon-16.ico" />

    <style>
-        .team-container {
-            display: flex;
-            flex-direction: column;
-            align-items: center;
-            text-align: center;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .match-card {
            padding: 16px;
        }
    </style>

    <title>Grebball - Picks</title>
</head>

<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Grebball - Choix</a>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
            </ul>

            <div class="d-flex" role="user" style="padding-right: 1em">
            <span style="color: white">
                <img src="/teams/<%= favteam %>.png" width=60 height=60 />
                <%= username %>
            </span>
            </div>
            <div class="d-flex" role="user">
                <img class="img-fluid rounded-circle" src="<%= avatar %>" width=64 height=64 />
            </div>
        </div>
    </div>
</nav>

<main class="container">
<sl-radio-group label="Select an option" name="a" value="1">
  <sl-radio-button value="1">
  <div class="team-container">
    <img src="/teams/BAL.png" width=35 height=35 />
    <span>Baltimore Ravens</span>
  </div>
  </sl-radio-button>
  <sl-radio-button value="2">
  <div class="team-container">
    <img src="/teams/KC.png" width=35 height=35 />
    <span>Kansas City Chiefs</span>
  </div>
  </sl-radio-button>
</sl-radio-group>

<div class="bg-body-tertiary p-5 rounded">
    <span class="h2">Choix pour saison: <%= season %>, semaine: <%= week %></span>

    <form action="/submit" method="post">
    <input type="hidden" name="pickid" value="<%= pickid %>" />
    <input type="hidden" name="matchids" value="<%= matchids %>" />
    <input type="hidden" name="favteam" value="<%= favteam %>" />
    <input type="hidden" name="forcedid" value="<%= forcedid %>" />

    <div class="card-grid">
    <% matches.forEach((m) => { %>
    <sl-card class="match-card">
        <sl-radio-group name="<%=m['idEvent']%>">
            <sl-radio-button value="<%=m['awayTeam']%>">
                <div class="team-container">
                <img src="/teams/<%=m['awayTeam']%>.png" width=35></img>
                <span class="wrap-text"><%= m['strAwayTeam'] %></span>
                </div>
            </sl-radio-button>
            <span>@</span>
            <sl-radio-button value="<%=m['homeTeam']%>">
                <div class="team-container">
                <img src="/teams/<%=m['homeTeam']%>.png" width=35></img>
                <span class="wrap-text"><%= m['strHomeTeam'] %></span>
                </div>
            </sl-radio-button>
        </sl-radio-group>
    </sl-card>
    <!--
        <sl-radio-group name="<%=m['idEvent']%>" value="<%=favteam%>">
        <tr>
            <td style="text-align: right">
                <sl-radio-button pill="true" name="<%=m['idEvent']%>" id="<%=m['awayTeam']%>" value="<%=m['awayTeam']%>"
                    <% if (favteam === m['awayTeam'] || favteam === m['homeTeam']) { %>
                        <% if (favteam === m['awayTeam']) { %>
                            checked
                        <% } else { %>
                            disabled
                        <% } %>
                    <% } %>
                >
                <div class="team-container">
                    <img src="/teams/<%= m['awayTeam'] %>.png" width=35 height=35 />
                    <span><%= m['strAwayTeam'] %></span>
                </div>
                </sl-radio-button>
            </td>
            <td>@</td>
            <td>
                <sl-radio-button pill="true"
                 name="<%=m['idEvent']%>" id="<%=m['homeTeam']%>" value="<%=m['homeTeam']%>"
                    <% if (favteam === m['awayTeam'] || favteam === m['homeTeam']) { %>
                        <% if (favteam === m['homeTeam']) { %>
                            checked
                        <% } else { %>
                            disabled
                        <% } %>
                    <% } %>
                >
                <div class="team-container">
                    <img src="/teams/<%= m['homeTeam'] %>.png" width=35 height=35 />
                    <span><%= m['strHomeTeam'] %></span>
                </div>
                </sl-radio-button>
            </td>
        </tr>
        </sl-radio-group>
    -->
    </div>
    <% }); %>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
</main>

<script src="/js/bootstrap.min.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/shoelace-autoloader.js"></script>
</body>
</html>
